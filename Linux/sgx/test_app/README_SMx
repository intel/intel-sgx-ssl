## How to validate the result of GM SM2, SM3, SM4 by command line

- 1. Build and run test project, generate SM2, SM3, SM4 related files in the same folder

```
  $ git clone https://github.com/intel/intel-sgx-ssl.git
  $ cd intel-sgx-ssl/Linux/sgx/test_app
  $ make clean
  $ make
  $ ./TestApp
```

  **Note**: for SM2, must use openssl3 to run, since openssl 1.x does not support SM2 sign and verify with user id, for SM3 and SM4, any openssl version is OK.

- 2. Validate SM2

```
  $ openssl dgst -sm3 -sigopt distid:1234567812345678 -verify sm2pub.pem -signature sm2sign.sig sm2sign.data
```

- 3. Validate SM3

```
  $ openssl dgst -sm3 sm3.data
```

- 4. Validate SM4

```
  $ openssl enc -d -sm4-ctr -in sm4_ctr.enc -out sm4_ctr.txt -K 00010203040506070809101112131415 -iv ffeeddccbbaa99887766554433221100 -p
```

## How to install openssl3

- 1. Download openssl-3.0.0-beta2.tar.gz

- 2. Install openssl3

```
  $ tar -zxvf openssl-3.0.0-beta2.tar.gz
  $ cd openssl-3.0.0-beta2
  $ ./Configure
  $ make
  $ make test
  $ sudo make install
  $ sudo ln -s /usr/local/lib64/libssl.so.3 /usr/lib/libssl.so.3
  $ sudo ln -s /usr/local/lib64/libcrypto.so.3 /usr/lib/libcrypto.so.3
```
