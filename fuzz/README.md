Fuzzing Intel SGX SSL
=====================

OpenSSL can use AFL to do fuzzing.

AFL
---

Build SGX SSL in Linux folder first, and go to the `fuzz/`:

```
sudo apt-get install afl-clang
make clean
for i in $(ls *_fuzz.c); do make FUZZER=`echo $i | awk '{print substr($0, 1, length($0)-2)}'`; done
```

Run one of the fuzzers:

```
rm -rf $FUZZER\_out
mkdir $FUZZER\_out
afl-fuzz -i corpora//$FUZZER -o $FUZZER\_out .//$FUZZER
```

Where $FUZZER is one of the executables in `fuzz/`.

Reproducing issues
------------------

If a fuzzer generates a reproducible error, you can reproduce the problem using
the fuzz/*_fuzz binaries and the file generated by the fuzzer. 

To reproduce the crash you can run:

```
fuzz/$FUZZER $file
```
